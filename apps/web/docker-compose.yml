services:
  portal:
    image: ghcr.io/hosenur/portal:latest
    ports:
      - "3000:3000"
    environment:
      - OPENCODE_SERVER_URL=http://localhost:4000
      # Set to the container name/ID you want to connect to
      # If not set, it will use the portal container's own terminal
      - OPENCODE_CONTAINER=${OPENCODE_CONTAINER:-}
      # Docker host configuration (defaults to unix socket inside container)
      - DOCKER_HOST=unix:///var/run/docker.sock
    volumes:
      # Mount Docker socket to allow terminal access to containers
      - /var/run/docker.sock:/var/run/docker.sock
    restart: unless-stopped
